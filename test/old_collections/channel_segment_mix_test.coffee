describe 'ChannelSegmentMix', ->
  collection = null
  app = null
  appHelper = null
  before (done)->
    app = window.app
    appHelper = window.appHelper
    collection = app.channelSegmentMix

    #appHelper.getAndPrint
      #collection: collection
      #getParams:
        #'0.0': [5, 2]
        #'0.3': [54244, 7]
      #printParams:
        #1: [5, 7, 100]
        #5: [2, 6, 25]
    done()
  it 'set', ->
    appHelper.set 'for channelId=5 and segmentId=7',
      collection: collection
      attributes: [50,5,7]
      results:
        conversionForecast:
          1:  [10292,5,7,2,2,2,9,9,4,4,2,6,9,2,1,8,2,
               9,9,8,4,7,10,2,9,6,9,9,10,7,6,1,6,8,0,2,7,1,0]
          16: [22394,5,7,2,1,1,0,0,6,2,2,0,3,6,1,0,1,2,
               6,6,6,0,4,3,1,3,1,3,1,7,6,3,1,1,1,0,0,6,0]
          31: [32943,5,7,0,0,0,0,0,4,1,2,0,1,1,1,0,1,1,0,
               2,3,0,2,3,0,0,1,0,1,2,2,0,0,1,0,0,0,4,0]
        churnForecast:
          1: [5,7,2,0,0,0,0,0,1,2,2,2,1,1,0,0,1,1,1,1,
              2,2,1,3,0,0,1,1,0,1,2,2,0,1,0,0,0,2]
        customerForecast:
          1: [5,7,0,0,0,0,0,4,4,4,2,1,1,1,1,2,2,1,
              2,4,2,2,4,1,1,2,1,1,3,4,2,0,1,0,0,0,4,2]

    appHelper.set 'for channelId=5 and segmentId=7',
      collection: collection
      attributes: [100,54244,6]
      results:
        conversionForecast:
          44: [32943,54244,6,3,0,3,0,0,0,1,3,0,1,2,
               1,0,8,3,2,2,2,7,1,1,0,2,0,4,0,4,1,0,0,0,2,0,4,9,6]
          45: [32943,54244,2,2,0,2,0,0,0,1,2,0,1,1,1,0,5,
               1,2,1,1,5,0,0,0,2,0,3,0,2,0,0,0,0,1,0,2,6,4]
        churnForecast:
          13: [54244,7,8,2,1,1,0,0,0,0,0,1,0,1,0,0,2,
               1,1,1,1,2,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,2]
          14: [54244,6,1,8,4,2,4,1,0,1,1,1,2,1,2,0,2,
               4,6,2,2,2,4,2,2,2,0,0,1,3,5,0,0,0,0,1,4,4]
        customerForecast:
          14: [54244,6,16,8,7,5,1,0,1,3,2,2,2,2,0,8,
               9,7,3,3,8,7,4,2,2,0,4,4,7,5,0,0,0,2,2,5,10,12]
          15: [54244,2,3,2,2,2,0,0,1,2,1,2,1,2,1,6,
               4,4,2,3,7,1,0,0,2,1,4,3,4,2,1,1,0,1,1,2,7,8]
