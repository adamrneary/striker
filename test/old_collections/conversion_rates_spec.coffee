describe 'ConversionRates', ->
  collection = admin.conversionRates

  AdminHelper.getAndPrint
    collection: collection
    getParams:
      '0.63': [22394, 323, 11]
      '0.93': [32943, 4121, 36]
    printParams:
      4:  [22394,4121,27,69,81,57,0,22,66,12,40,24,69,42,28,18,37,54,4,1,16,91,5,63,44,33,28,33,73,88,72,43,54,26,50,90,40,4]
      10: [32943,54244,91,6,70,14,35,16,23,97,37,98,17,44,10,89,63,15,86,57,77,7,91,93,31,14,90,1,49,78,17,3,6,33,11,72,99,79]

  describe 'set', ->
    AdminHelper.set 'when notFirstStageId=22394 and channelId=5 and monthId=1',
      collection: collection
      attributes: [95, 22394, 5, 1]
      results:
        conversionForecast:
          16: [22394,5,7,4,3,2,1,1,12,3,3,1,5,11,3,0,1,2,12,12,11,0,9,7,3,5,2,5,1,14,11,6,1,3,2,0,0,12,0]
          17: [22394,5,6,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
          18: [22394,5,2,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        churnForecast:
          2: [5,6,1,2,2,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        customerForecast:
          2: [5,6,5,3,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]

    AdminHelper.set 'when notFirstStageId=32943 and channelId=2 and monthId=2',
      collection: collection
      attributes: [98, 32943, 2, 2]
      results:
        conversionForecast:
          36: [32943,2,2,1,1,1,3,0,0,7,0,2,0,0,1,1,1,2,3,0,0,1,1,0,6,2,4,3,1,0,3,1,0,7,1,0,0,0,1]
        churnForecast:
          6: [2,2,13,3,5,0,3,1,0,5,1,1,2,0,1,0,1,1,4,0,0,2,1,0,5,1,1,1,2,3,2,2,3,6,1,1,0,0]
        customerForecast:
          5: [2,6,4,2,2,2,1,0,4,1,2,1,0,1,1,2,2,2,0,0,1,2,1,4,1,3,3,3,2,2,0,0,3,0,0,0,0,1]
